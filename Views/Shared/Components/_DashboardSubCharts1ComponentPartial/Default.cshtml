
<div class="col">
    <div class="card rounded-4">
        <div class="card-body">
            <div class="d-flex align-items-center justify-content-between mb-3">
                <div class="">
                    <h4 class="mb-0">@ViewBag.PolicyCounts</h4>
                    <p class="mb-0">Poliçe Türleri</p>
                </div>
                <div class="fs-2 text-facebook">
                    <i class="bi bi-shield-check"></i>
                </div>
            </div>
            <div id="policyDataChart7"></div>
        </div>
    </div>
</div>


<script>

    document.addEventListener("DOMContentLoaded", function () { "use strict";

                var policyData = @Html.Raw(ViewBag.PolicyData);

                var seriesData = policyData.map(x => x.Count);
                   var labelsData = policyData.map(x => x.PolicyType);

       // chart 7

          var options1 = {
            chart: {
              type: 'area',
              height: 90,
              sparkline: {
                enabled: true
              }
            },
            dataLabels: {
                enabled: false
            },
            fill: {
              type: 'gradient',
                gradient: {
                    shade: 'light',
                    //gradientToColors: [ '#8f50ff'],
                    shadeIntensity: 1,
                    type: 'vertical',
                    opacityFrom: 0.8,
                    opacityTo: 0.4,
                    stops: [0, 100, 100, 100]
                },
            },
            colors: ["#3b5998"],
            series: [{
              name: 'Poliçe Sayısı',
              data: seriesData
            }],
            stroke: {
                    width: 2.5,
                    curve: 'smooth',
                    dashArray: [0]
               },
            tooltip: {
                      theme: 'dark',
                      x: {
                          show: false
                      },
                      y: {
                          formatter: function(val, opts){
                              return labelsData[opts.dataPointIndex] + ": " + val
                          }
                      }

                  }
          }

             new ApexCharts(document.querySelector("#policyDataChart7"), options1).render();


       });
</script>
